<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">

    <!-- If you application is targeting iOS BEFORE 4.0 you MUST put json2.js from http://www.JSON.org/json2.js into your www directory and include it here -->
    <script type="text/javascript" charset="utf-8" src="phonegap.0.9.5.1.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="NativeControls2.js"></script>
    <script type="text/javascript" charset="utf-8" src="menu.js"></script>
    <script type="text/javascript" charset="utf-8" src="ios.js"></script>
    <script type="text/javascript" charset="utf-8">

    function onLoad() {
        document.addEventListener("deviceready", loadMenu, false);
    }

    function loadMenu() {
        try {
            var tabHandler = function() {
                navigator.notification.alert("Tabbar Handler", null, "Tabbar");
            };
            var toolHandler = function() {
                navigator.notification.alert("Toolbar Handler", null, "Toolbar");
            };
            var removeToolHandler = function() {
                toolbar.removeChild(tool4);
            };
            var removeTabHandler = function() {
                tabbar.removeChild(tab4);
            };

            // Create the Context Menu and add a few tabs to the menu.
            //
            // On iOS, the context menu is rendered as a Tabbar
            //
            var tabbar = document.createElement('menu');
            tabbar.setAttribute('type', 'context');

            var tab1 = document.createElement('command');
            tab1.setAttribute('label', 'Tab 1');
            tab1.setAttribute('icon', 'tabButton:Favorites');
            tab1.setAttribute('disabled', false);
            tab1.setAttribute('action', tabHandler);
            tabbar.appendChild(tab1);

            var tab2 = document.createElement('command');
            tab2.setAttribute('label', 'Tab 2');
            tab2.setAttribute('icon', 'alarm.png');
            tab2.setAttribute('disabled', false);
            tab2.setAttribute('action', tabHandler);
            tabbar.appendChild(tab2);

            var tab3 = document.createElement('command');
            tab3.setAttribute('label', '');
            tab3.setAttribute('icon', 'alarm.png');
            tab3.setAttribute('disabled', false);
            tab3.setAttribute('action', tabHandler);
            tabbar.appendChild(tab3);

            var tab4 = document.createElement('command');
            tab4.setAttribute('label', 'Remove me');
            tab4.setAttribute('icon', '');
            tab4.setAttribute('disabled', false);
            tab4.setAttribute('action', removeTabHandler);
            tabbar.appendChild(tab4);
            
            // Create the Toolbar and add a few buttons
            //
            var toolbar = document.createElement('menu');
            toolbar.setAttribute('type', 'toolbar');
            toolbar.setAttribute('label', 'Hello');
            
            var tool1 = document.createElement('command');
            tool1.setAttribute('label', 'Button 1');
            tool1.setAttribute('icon', '');
            tool1.setAttribute('disabled', false);
            tool1.setAttribute('action', toolHandler);
            toolbar.appendChild(tool1);

            var tool2 = document.createElement('command');
            tool2.setAttribute('label', 'Button 2');
            tool2.setAttribute('icon', 'toolbarButton:Compose');
            tool2.setAttribute('disabled', true);
            tool2.setAttribute('action', toolHandler);
            toolbar.appendChild(tool2);

            var tool3 = document.createElement('command');
            tool3.setAttribute('label', '');
            tool3.setAttribute('icon', 'alarm.png');
            tool3.setAttribute('disabled', false);
            tool3.setAttribute('action', toolHandler);
            toolbar.appendChild(tool3);

            var tool4 = document.createElement('command');
            tool4.setAttribute('label', 'Remove me');
            tool4.setAttribute('icon', '');
            tool4.setAttribute('disabled', false);
            tool4.setAttribute('action', removeToolHandler);
            toolbar.appendChild(tool4);
        }
        catch (e) {
            alert(e);
        }
    }
    </script>
  </head>
  <body style="margin:0; padding:0;" onload="onLoad()">
    <span style="position:absolute; top:0;">
        This is some text at the top of the webview.
    </span>
    <span style="position:absolute;bottom:0">
        This is some text at the bottom of the webview.
    </span>  
  </body>
</html>
