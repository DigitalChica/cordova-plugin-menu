<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />

    <meta http-equiv="Content-type" content="text/html; charset=utf-8">

	<!-- iPad/iPhone specific css below, add after your main css >
	<link rel="stylesheet" media="only screen and (max-device-width: 1024px)" href="ipad.css" type="text/css" />		
	<link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="iphone.css" type="text/css" />		
	-->
	<!-- If you application is targeting iOS BEFORE 4.0 you MUST put json2.js from http://www.JSON.org/json2.js into your www directory and include it here -->
	<script type="text/javascript" charset="utf-8" src="phonegap.0.9.5.1.min.js"></script>
	<script type="text/javascript" charset="utf-8" src="NativeControls2.js"></script>
	<script type="text/javascript" charset="utf-8" src="HTMLMenuElement.js"></script>
	<script type="text/javascript" charset="utf-8" src="HTMLCommandElement.js"></script>
    <script type="text/javascript" charset="utf-8">


	// If you want to prevent dragging, uncomment this section
	/*
	function preventBehavior(e) 
	{ 
      e.preventDefault(); 
    };
	document.addEventListener("touchmove", preventBehavior, false);
	*/
	
	/* If you are supporting your own protocol, the var invokeString will contain any arguments to the app launch.
	see http://iphonedevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html
	for more details -jm */
	/*
	function handleOpenURL(url)
	{
		// TODO: do something with the url passed in.
	}
	*/
	
	function onBodyLoad()
	{		
		//document.addEventListener("deviceready", doNativeControls, false);
		document.addEventListener("deviceready", doHTMLElements, false);
	}
	
	/* When this function is called, PhoneGap has been initialized and is ready to roll */
	/* If you are supporting your own protocol, the var invokeString will contain any arguments to the app launch.
	see http://iphonedevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html
	for more details -jm */
	function doNativeControls()
	{
		try {
		
			var nc = window.plugins.nativeControls;
			
			nc.createTabBar();
			nc.createToolBar();
			nc.removeTabBar();
			nc.removeToolBar();
			nc.createToolBar();
			nc.createTabBar();
//			nc.removeTabBar();
//			nc.createTabBar();
			
			var tabHandler = function(name) {
				navigator.notification.alert(name, null, "TabBar");
			};
			var toolHandler = function(name) {
				navigator.notification.alert(name, null, "ToolBar");
			};
			var removeToolHandler = function(name) {
				nc.removeToolBarItem("tool4-remove"); // remove by name
			};
			var removeTabHandler = function(name) {
				nc.removeTabBarItem("tab4-remove"); // remove by name
			};

			nc.createTabBarItem("tab1-n", "tab1-l", "tabButton:Favorites", true, { onSelect: tabHandler }); // here a system item takes precedent
			nc.createTabBarItem("tab2-n", "tab2-l", "alarm.png", true, { onSelect: tabHandler }); // label and title
			nc.createTabBarItem("tab3-n", null, "alarm.png", true, { onSelect: tabHandler }); // no label
			nc.createTabBarItem("tab4-remove", "remove me", "alarm.png", true, { onSelect: removeTabHandler }); // label and title
			
			//nc.enableTabBarItem("tab4-remove"); // disables
			nc.enableTabBarItem("tab4-remove", false); // disables
			nc.enableTabBarItem("tab4-remove", true);

			nc.createToolBarItem("tool1-n", "tool1-l", "toolbarButton:Compose", true, { onSelect: toolHandler }); // here a system item takes precedent
			nc.createToolBarItem("tool2-n", "tool2-l", "alarm.png", false, { onSelect: toolHandler }); // either label or image, here label takes precedent
			nc.createToolBarItem("tool3-n", null, "alarm.png", true, { onSelect: toolHandler }); // here no label, so image is used
			nc.createToolBarItem("tool4-remove", "remove me", "", true, { onSelect: removeToolHandler }); // either label or image, here label takes precedent
			
			//nc.enableToolBarItem("tool4-remove"); // disables
			nc.enableToolBarItem("tool4-remove", false); // disables
			nc.enableToolBarItem("tool4-remove", true);
			
//			nc.hideToolBar();
//			nc.showToolBar();
//			nc.hideTabBar();
//			nc.showTabBar();

		} catch (e) {
			alert(e);
		}
	}
	
	function doHTMLElements()
	{
		try {
		
		var tabbar = document.createElement('menu');
		tabbar.setAttribute('type', 'context');
		
		var tab1 = document.createElement('command');
		tab1.setAttribute('label', 'tab1-l');
		tab1.setAttribute('icon', 'tabButton:Favorites');
		tab1.setAttribute('disabled', false);
		tabbar.appendChild(tab1);

		var tab2 = document.createElement('command');
		tab2.setAttribute('label', 'tab2-l');
		tab2.setAttribute('icon', 'alarm.png');
		tab2.setAttribute('disabled', false);
		tabbar.appendChild(tab2);

		var tab3 = document.createElement('command');
		tab3.setAttribute('label', '');
		tab3.setAttribute('icon', 'alarm.png');
		tab3.setAttribute('disabled', false);
		tabbar.appendChild(tab3);

		var tab4 = document.createElement('command');
		tab4.setAttribute('label', 'remove me');
		tab4.setAttribute('icon', '');
		tab4.setAttribute('disabled', false);
		tabbar.appendChild(tab4);

		// ///////////////////
		
		var toolbar = document.createElement('menu');
		toolbar.setAttribute('type', 'toolbar');
		
		var tool1 = document.createElement('command');
		tool1.setAttribute('label', 'tool1-l');
		tool1.setAttribute('icon', '');
		tool1.setAttribute('disabled', false);
		toolbar.appendChild(tool1);

		var tool2 = document.createElement('command');
		tool2.setAttribute('label', 'tool2-l');
		tool2.setAttribute('icon', 'toolbarButton:Compose');
		tool2.setAttribute('disabled', true);
		toolbar.appendChild(tool2);

		var tool3 = document.createElement('command');
		tool3.setAttribute('label', '');
		tool3.setAttribute('icon', 'alarm.png');
		tool3.setAttribute('disabled', false);
		toolbar.appendChild(tool3);

		var tool4 = document.createElement('command');
		tool4.setAttribute('label', 'remove me');
		tool4.setAttribute('icon', '');
		tool4.setAttribute('disabled', false);
		toolbar.appendChild(tool4);
		
		
		//toolbar.removeChild(tool2);
		//tabbar.removeChild(tab2);
		
		} catch (e) {
			alert(e);
		}
	}

    
    </script>
  </head>
  <body style="margin:0; padding:0;" onload="onBodyLoad()">
	<span style="position:absolute; top:0;">
		This is some text at the top of the webview.
	</span>
	<span style="position:absolute;bottom:0">
		This is some text at the bottom of the webview.
	</span>  
  </body>
</html>
